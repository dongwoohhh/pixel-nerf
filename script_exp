python train/train.py -n dtu_exp -c conf/exp/dtu.conf -D /workspace/datasets/dtu_dataset/rs_dtu_4 -V 3 --gpu_id='0 1'



nsml run -d video_nfs3 -e train/train.py -a "--config configs/config_nsml_GOPR0857_11_00_sharp.txt --datadir /data/video_nfs3/dongwool/datasets/gopro/nerf_data/GOPR0857_11_00/sharp/dense/0 --basedir /data/video_nfs3/dongwool/results_nerf/nsff" --nfs-output -c 8 -g 1 --shm-size '3G' --gpu-driver-version 400
nsml run -d video_nfs3 -e train.py -a "-n dtu_exp -c conf/exp/dtu.conf -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 -V 3 --gpu_id 0 --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary" --nfs-output -c 8 -g 1 --shm-size '3G' --gpu-driver-version 400
nsml run -d video_nfs3 -m 'pixelNeRF-10views' -e train.py -a "-n dtu_exp -c conf/exp/dtu.conf -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 -V 3 --gpu_id 0 --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary" --nfs-output -c 8 -g 1 --shm-size '3G' --gpu-driver-version 400


nsml run -d video_nfs3 -e train.py -a "-n dtu_exp -c conf/exp/dtu.conf -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 -V 3 --gpu_id '0 1' --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary" --nfs-output -c 16 -g 2 --shm-size '6G' --gpu-driver-version 400
nsml run -d video_nfs3 -m 'pixel-nerf 10views' -e train.py -a "-n 9views_srf_split -c conf/exp/dtu.conf -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 -V 10 --gpu_id '0 1' --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary" --nfs-output -c 16 -g 2 --shm-size '24G' --gpu-driver-version 400

nsml run -d video_nfs3 -m 'pixel-nerf 3views' -e train.py -a "-n 3views_srf_split -c conf/exp/dtu.conf -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 -V 3 --gpu_id '0 1' --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary" --nfs-output -c 16 -g 2 --shm-size '24G' --gpu-driver-version 400

# run eval
nsml run -d video_nfs3 -m 'eval pixel-nerf trained 10views on 3views' -e eval.py -a "-D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 --checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --logs_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/logs --write_depth --write_compare --split val -n dtu -P '22 25 28' -O /data/video_nfs3/dongwool/results_nerf/pixel-nerf/eval_out/train_10views_test_3views --gpu_id='0 1' -n 9views_srf_split -c conf/exp/dtu.conf" --nfs-output -c 16 -g 2 --shm-size '24G' --gpu-driver-version 400
python eval.py -D /workspace/datasets/dtu_dataset/rs_dtu_4 --checkpoints_path /workspace/results_nerf/pixel-nerf/summary --visual_path /workspace/results_nerf/pixel-nerf/visuals --logs_path /workspace/results_nerf/pixel-nerf/logs --write_depth --split val -n dtu -P '22 25 28' -O eval_out/train_10views_test_3views --gpu_id='0 1' -n 9views_srf_split -c conf/exp/dtu_10views.conf 

nsml run -d video_nfs3 -m 'eval pixel-nerf trained 10views test on 10views' -e eval.py -a "-D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 --checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --logs_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/logs --write_depth --write_compare --split val -n dtu -P '5 9 13 17 21 25 29 33 37 41' -O /data/video_nfs3/dongwool/results_nerf/pixel-nerf/eval_out/train_10views_test_10views --gpu_id='0 1 2 3' -n 9views_srf_split -c conf/exp/dtu.conf" --nfs-output -c 16 -g 4 --shm-size '24G' --gpu-driver-version 400
python eval.py -D /workspace/datasets/dtu_dataset/rs_dtu_4 --checkpoints_path /workspace/results_nerf/pixel-nerf/summary --visual_path /workspace/results_nerf/pixel-nerf/visuals --logs_path /workspace/results_nerf/pixel-nerf/logs --write_compare --write_depth --split val -n dtu -P '5 9 13 17 21 25 29 33 37 41' -O eval_out/train_10views_test_10views --gpu_id='0 1' -n 9views_srf_split -c conf/exp/dtu_10views.conf 


nsml run -d video_nfs3 -m 'Baseline_V3' -e train.py -a "--logs_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/logs --checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --gpu_id '0' -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 -V 3 -n Baseline_V3 -c conf/exp/dtu_nsml.conf --epochs 64 --resume" --nfs-output -c 16 -g 3 --shm-size '24G' --gpu-driver-version 400
nsml run -d video_nfs3 -m 'Baseline_V6' -e train.py -a "--logs_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/logs --checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --gpu_id '0 1' -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 -V 6 -n Baseline_V6 -c conf/exp/dtu_nsml.conf --epochs 64" --nfs-output -c 8 -g 2 --shm-size '12G' --gpu-driver-version 430
nsml run -d video_nfs3 -m 'Baseline_V9' -e train.py -a "--logs_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/logs --checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --gpu_id '0 1' -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 -V 9 -n Baseline_V9 -c conf/exp/dtu_nsml.conf --epochs 64" --nfs-output -c 12 -g 2 --shm-size '12G' --gpu-driver-version 430


nsml run -d video_nfs3 -m 'Baseline_V3_srf' -e train.py -a "--logs_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/logs --checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --gpu_id '0 1 2' -D /data/video_nfs3/dongwool/datasets/dtu_dataset2/rs_dtu_4 -V 3 -n Baseline_V3_srf -c conf/exp/dtu.conf --epochs 64" --nfs-output -c 12 -g 3 --shm-size '24G' --gpu-driver-version 420


# Eval.

python eval.py --checkpoints_path /workspace/results_nerf/pixel-nerf/summary --visual_path /workspace/results_nerf/pixel-nerf/visuals --logs_path /workspace/results_nerf/pixel-nerf/logs --gpu_id='1' -O /workspace/results_nerf/pixel-nerf/eval_out/Baseline_V3_1v -D /workspace/datasets/dtu_dataset/rs_dtu_4 --write_depth --write_compare --split val -n dtu -P '25' -n Baseline_V3 -c conf/exp/dtu_nsml.conf --eval_epoch 0032

nsml run -d video_nfs3 -m 'eval_Baseline_V3_1v' -e eval.py -a "--checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --logs_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/logs --gpu_id='0 1 2 3 4 5 6 7' -O /data/video_nfs3/dongwool/results_nerf/pixel-nerf/eval_out/Baseline_V3_1v -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 --write_depth --write_compare --split val -n dtu -P '25' -n Baseline_V3 -c conf/exp/dtu_nsml.conf --eval_epoch 0032"  --nfs-output -c 12 -g 8 --shm-size '12G' --memory '12G' --gpu-driver-version 460
nsml run -d video_nfs3 -m 'eval_Baseline_V3_3v' -e eval.py -a "--checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --logs_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/logs --gpu_id='0 1 2' -O /data/video_nfs3/dongwool/results_nerf/pixel-nerf/eval_out/Baseline_V3_3v -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 --write_depth --write_compare --split val -n dtu -P '22 25 28' -n Baseline_V3 -c conf/exp/dtu.conf"  --nfs-output -c 12 -g 3 --shm-size '12G' --memory '12G' --gpu-driver-version 420
nsml run -d video_nfs3 -m 'eval_Baseline_V3_6v' -e eval.py -a "--checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --logs_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/logs --gpu_id='0 1 2' -O /data/video_nfs3/dongwool/results_nerf/pixel-nerf/eval_out/Baseline_V3_6v -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 --write_depth --write_compare --split val -n dtu -P '22 25 28 40 44 48' -n Baseline_V3 -c conf/exp/dtu.conf" --nfs-output -c 12 -g 3 --shm-size '12G' --memory '12G' --gpu-driver-version 430
nsml run -d video_nfs3 -m 'eval_Baseline_V3_9v' -e eval.py -a "--checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --logs_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/logs --gpu_id='0 1 2 3 4 5' -O /data/video_nfs3/dongwool/results_nerf/pixel-nerf/eval_out/Baseline_V3_9v -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 --write_depth --write_compare --split val -n dtu -P '22 25 28 40 44 48 0 8 13' -n Baseline_V3 -c conf/exp/dtu_nsml.conf --eval_epoch 0032"  --nfs-output -c 12 -g 6 --shm-size '12G' --memory '12G' --gpu-driver-version 430


nsml run -d video_nfs3 -m 'eval_Baseline_V3_1v' -e eval.py -a "--checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --logs_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/logs --gpu_id='0 1 2 3 4 5 6 7' -O /data/video_nfs3/dongwool/results_nerf/pixel-nerf/eval_out/Baseline_V3_1v -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 --write_depth --write_compare --split val -n dtu -P '25' -n Baseline_V3 -c conf/exp/dtu.conf -R 10000 --eval_epoch 0032"  --nfs-output -c 12 -g 6 --shm-size '24G' --memory '24G'


nsml run -d video_nfs3 -m 'eval_Baseline_V6_srf_6v' -e eval.py -a "--checkpoints_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/summary --visual_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/visuals --logs_path /data/video_nfs3/dongwool/results_nerf/pixel-nerf/logs -O /data/video_nfs3/dongwool/results_nerf/pixel-nerf/eval_out/Baseline_V6_srf_6v -D /data/video_nfs3/dongwool/datasets/dtu_dataset/rs_dtu_4 --write_depth --write_compare --split val -n dtu -P '22 25 28 40 44 48' -n Baseline_V6_srf -c conf/exp/dtu.conf --gpu_id='0 1 2'" --nfs-output -c 12 -g 3 --shm-size '12G' --memory '12G' --gpu-driver-version 420
